// Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ ethers
import { ethers } from 'ethers';

// --- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ---
async function generateWallet() {
  console.log('ðŸš€ ÐÐ°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸ÑŽ ÐºÐ¾ÑˆÐµÐ»ÑŒÐºÐ°...');

  // 1. Ð“Ð•ÐÐ•Ð ÐÐ¦Ð˜Ð¯ SEED-Ð¤Ð ÐÐ—Ð« (ÐœÐÐ•ÐœÐžÐÐ˜ÐšÐ)
  // Ð”Ð»Ñ 24 ÑÐ»Ð¾Ð² Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° ÑÐ½Ñ‚Ñ€Ð¾Ð¿Ð¸Ñ 256 Ð±Ð¸Ñ‚ (32 Ð±Ð°Ð¹Ñ‚Ð°)
  const entropy = ethers.randomBytes(32);
  const mnemonic = ethers.Mnemonic.fromEntropy(entropy);

  console.log('\nâœ… Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð½Ð¾Ð²Ð°Ñ seed-Ñ„Ñ€Ð°Ð·Ð°:');
  console.log(
    '========================================================================================'
  );
  console.log(mnemonic.phrase);
  console.log(
    '========================================================================================'
  );

  // 2. ÐžÐŸÐ Ð•Ð”Ð•Ð›Ð•ÐÐ˜Ð• ÐŸÐ£Ð¢Ð˜ Ð”Ð•Ð Ð˜Ð’ÐÐ¦Ð˜Ð˜
  // Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ Ð´Ð»Ñ Ethereum - m/44'/60'/0'/0/x
  // ÐœÑ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð²Ð°Ñˆ Ð¸Ð½Ð´ÐµÐºÑ 4493
  const derivationPath = `m/44'/60'/0'/0/4493`;
  console.log(`\nâ„¹ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¿ÑƒÑ‚ÑŒ Ð´ÐµÑ€Ð¸Ð²Ð°Ñ†Ð¸Ð¸: ${derivationPath}`);

  // 3. Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð• ÐšÐžÐ¨Ð•Ð›Ð¬ÐšÐ Ð˜Ð— SEED-Ð¤Ð ÐÐ—Ð« Ð˜ ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• ÐšÐ›Ð®Ð§Ð•Ð™
  // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ HD-ÑƒÐ·ÐµÐ» (Hierarchical Deterministic Wallet) Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¼Ð½ÐµÐ¼Ð¾Ð½Ð¸ÐºÐ¸
  const hdNode = ethers.HDNodeWallet.fromMnemonic(mnemonic, derivationPath);

  // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¹ Ð¸ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡Ð¸ Ð´Ð»Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿ÑƒÑ‚Ð¸
  const privateKey = hdNode.privateKey;
  const publicKey = hdNode.publicKey;
  const address = hdNode.address; // ÐÐ´Ñ€ÐµÑ ÐºÐ¾ÑˆÐµÐ»ÑŒÐºÐ°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ð¸Ð´ÐµÐ½ Ð²ÑÐµÐ¼

  console.log('\nâœ… ÐšÐ»ÑŽÑ‡Ð¸ Ð´Ð»Ñ Ð¸Ð½Ð´ÐµÐºÑÐ° 4493 ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹:');
  console.log('-----------------------------------------------------');

  console.log('ðŸ”’ ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ (Private Key):');
  console.log(privateKey);

  console.log('\nðŸ”‘ ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ (Public Key):');
  console.log(publicKey);

  console.log('\nðŸ“« ÐÐ´Ñ€ÐµÑ ÐºÐ¾ÑˆÐµÐ»ÑŒÐºÐ° (Address):');
  console.log(address);

  console.log('\n-----------------------------------------------------');
  console.log('âœ¨ Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°!');
}

// Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð¾ÑÐ½Ð¾Ð²Ð½ÑƒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸ Ð»Ð¾Ð²Ð¸Ð¼ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸
generateWallet().catch((error) => {
  console.error('ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÐºÐ¾ÑˆÐµÐ»ÑŒÐºÐ°:', error);
});
